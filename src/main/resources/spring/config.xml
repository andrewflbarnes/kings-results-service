<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- controllers -->
    <bean id="raceController"
          class="org.kingsski.api.controller.RaceController">
        <property name="raceService" ref="raceService"/>
    </bean>

    <bean id="teamController"
          class="org.kingsski.api.controller.TeamController">
        <property name="teamService" ref="teamService"/>
    </bean>

    <bean id="individualController"
          class="org.kingsski.api.controller.IndividualController">
        <property name="individualService" ref="individualService"/>
    </bean>

    <!-- FIXME move this -->

    <bean id="individualService"
          class="org.kingsski.api.service.IndividualService">
        <property name="individualDao" ref="individualDao"/>
    </bean>

    <bean id="individualDao"
          class="org.kingsski.api.dao.individual.StubIndividualDao"/>

    <!-- START  controller choice -->
    <!-- API controllers, REST controllers are always created by Spring boot -->
    <!-- (profile:nocaching) -->
    <import resource="controllers/nocaching.xml"/>
    <!-- (profile:caching) -->
    <import resource="controllers/caching.xml"/>
    <!-- FINISH controller choice -->

    <!-- START  dao choice -->
    <!-- (profile:dummy) -->
    <import resource="services/dummy.xml"/>
    <!-- (profile:stub) -->
    <import resource="services/stub.xml"/>
    <!-- (profile:repository) -->
    <import resource="services/repository.xml"/>
    <!-- FINISH dao choice -->

</beans>
